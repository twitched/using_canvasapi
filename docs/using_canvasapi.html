<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Using the Canvas API</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="floating">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-canvas-api" id="toc-the-canvas-api" class="nav-link active" data-scroll-target="#the-canvas-api"><span class="toc-section-number">1</span>  The Canvas API</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started"><span class="toc-section-number">2</span>  Getting Started</a>
  <ul class="collapse">
  <li><a href="#getting-an-access-token" id="toc-getting-an-access-token" class="nav-link" data-scroll-target="#getting-an-access-token"><span class="toc-section-number">2.1</span>  Getting an Access Token</a></li>
  <li><a href="#install-python" id="toc-install-python" class="nav-link" data-scroll-target="#install-python"><span class="toc-section-number">2.2</span>  Install Python</a></li>
  <li><a href="#install-needed-packages" id="toc-install-needed-packages" class="nav-link" data-scroll-target="#install-needed-packages"><span class="toc-section-number">2.3</span>  Install Needed Packages</a></li>
  <li><a href="#store-your-api-token-securely" id="toc-store-your-api-token-securely" class="nav-link" data-scroll-target="#store-your-api-token-securely"><span class="toc-section-number">2.4</span>  Store your API token securely</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Using the Canvas API</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="the-canvas-api" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="the-canvas-api"><span class="header-section-number">1</span> The Canvas API</h2>
<p>One important feature of Canvas is its <a href="https://canvas.instructure.com/doc/api/">API</a>. In fact, the Canvas LMS as we use it is built on its API. Everything a user does in either Canvas‚Äô web interface or the mobile apps goes through the API. This architecture allows every user to use the API to do anything they could do in the browser or mobile app plus more in a program.</p>
<p>This guide shows how to use Python and a library created by the University of Central Florida to create scripts that use the API.</p>
</section>
<section id="getting-started" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="getting-started"><span class="header-section-number">2</span> Getting Started</h2>
<section id="getting-an-access-token" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="getting-an-access-token"><span class="header-section-number">2.1</span> Getting an Access Token</h3>
<p>To get direct access to the API you need an access token that acts like a password. You can get the key from your user. As shown below, go to your users settings and click on <code>New Access Token</code>.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/get_token.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Getting an access token</figcaption><p></p>
</figure>
</div>
<p>The <code>Purpose</code> field can have anything you want, but it is good to choose something that will help you remember why you created it. If you are doing this for learning, I suggest ‚ÄúLearning the Canvas API‚Äù.</p>
<p><code>Expiration</code>: You should have your token expire in case you don‚Äôt use it again. If you are doing this for learning, have the token expire soon. You can create another at anytime. You can create more than one at a time if you want.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>This access token is just as good as your username and password. Plus, it doesn‚Äôt require Duo! Treat it with extreme caution. Anyone with it can log into Canvas as you.</p>
</div>
</div>
<p>Copy the token to a safe place like a password manager or a temporary document on your desktop so that you can delete it later. As the dialog says, it will only show it one time. If you close the dialog before copying the token or copy it incorrectly. Delete that token (üóë) and create another.</p>
</section>
<section id="install-python" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="install-python"><span class="header-section-number">2.2</span> Install Python</h3>
<p>If you already have Python 3.9 or greater installed, and you can run python from the command line, you can skip this section.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>These instructions are for Windows. If you are using MacOS or Linux, I suggest using your favorite package manager (like <code>brew</code> for MacOS) to install Python.</p>
</div>
</div>
<p>If not, do the following:</p>
<ul>
<li>Go to <a href="https://python.org" class="uri">https://python.org</a>, go to Downloads and choose to download the <code>Latest Python 3 Release</code>. At the time of this writing, the latest is 3.10.8. It might be higher now.</li>
<li>Double click on the installer file to start the install</li>
<li><strong>Check the box that says <code>Add python.exe to PATH</code></strong></li>
<li>Choose <code>Install Now</code> to complete the rest of the install</li>
</ul>
<p>Check to see if it worked by</p>
<ul>
<li><strong>Right</strong>-clicking on the start menu button and choosing <code>Windows PowerShell</code></li>
<li>At the prompt type <code>python --version</code> and press enter</li>
</ul>
<p>It should show the version of python. This shows that you installed correctly. If it doesn‚Äôt work, uninstall python and reinstall it making sure you follow the instructions above.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Since we will be doing a lot on the command line I suggest installing and using <a href="https://www.microsoft.com/store/productId/9N0DX20HK701">the Windows Terminal</a>. It does a lot of things better than the standard command line through Powershell or cmd.</p>
</div>
</div>
</section>
<section id="install-needed-packages" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="install-needed-packages"><span class="header-section-number">2.3</span> Install Needed Packages</h3>
<p>Now that Python is installed and we can run it from the command line, we are ready to install the Python packages we need to use the Canvas API.</p>
<ul>
<li>Open the command line (either Windows Terminal, if you installed it, or Windows PowerShell)</li>
<li>Enter the following:</li>
</ul>
<pre class="{powershell}"><code>pip install canvasapi keyring</code></pre>
</section>
<section id="store-your-api-token-securely" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="store-your-api-token-securely"><span class="header-section-number">2.4</span> Store your API token securely</h3>
<p>We can use the <code>keyring</code> package we just installed to store your Canvas API token securely and where we can retrieve it later:</p>
<pre class="{powershell}"><code>keyring set canvas token</code></pre>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->



</body></html>